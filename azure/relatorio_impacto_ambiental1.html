<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>GreenCycle | RIA</title>
    <link rel="stylesheet" href="relatorio_impacto_ambiental.css">
    <link href="css/bootstrap-4.4.1.css" rel="stylesheet" type="text/css">
    <script>window.gtranslateSettings = {"default_language":"pt","languages":["pt","en"],"wrapper_selector":".gtranslate_wrapper","alt_flags":{"en":"usa","pt":"brazil"}}</script>
<script src="https://cdn.gtranslate.net/widgets/latest/flags.js" defer></script>
<script src="auth-validator.js" defer></script>
</head>

<body>
    <!-- Cabeçalho -->
    <header>
        <nav class="navbar bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <img src="images/GreenCycleLogo.jpeg" alt="Logo GreenCycle" class="logo-image">
                    <span class="logo-text">GreenCycle</span>
                </a>
            </div>
            <!-- Menu -->
            <div class="menu-container">
                <ul class="nav-list">
                    <li><a href="index_empresarial.html">Home</a></li>
                    <li><a href="ultima_regulamentacao_pertinente.html">Regulamentação</a></li>
                    <li><a href="credito_de_carbono1.html"> Crédito de Carbono</a></li>
                    <li><a href="relatorio_impacto_ambiental1.html"> RIA</a></li>
                    <li><a href="entenda_pode_ou_nao_ser_reciclado.html">Educacional</a></li>
                    <li><a href="sobre_nos.html">Sobre Nós</a></li>
                   <!-- Dropdown de Alterar Linguagem com ícone do Brasil como padrão -->
                    <li class="language-selector">
                        <button class="language-toggle">
                            <img src="images/PTBR.png" alt="Português" class="flag-icon" />
                        </button>
                        <ul class="gtranslate_wrapper"> </ul>
                    </li>
                    <!-- Dropdown de Acessibilidade -->
                    <li class="dropdown">
                        <button class="dropdown-toggle">Acessibilidade</button>
                        <ul class="dropdown-menu">
                            <li><a href="#">Alto Contraste</a></li>
                            <li><a href="#">Modo Daltonismo</a></li>
                            <li><a href="#">VoiceOver</a></li>
                            <li><a href="#">Lupa</a></li>
                        </ul>
                    </li>
                    <div id="auth-container">
                        <a href="login.html">
                            <button class="login-button">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                                </svg>
                                Login
                            </button>
                        </a>
                    </div>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Conteúdo principal -->

    <script>
        function goto_ria1() {
            // Redireciona a página para exemplo.html
            window.location.href = 'relatorio_impacto_ambiental1.html';
        }
        // Função para redirecionar para exemplo.html
        function goto_ria2() {
            // Redireciona a página para exemplo.html
            window.location.href = 'relatorio_impacto_ambiental2.html';
        }
        function goto_ria3() {
            // Redireciona a página para exemplo.html
            window.location.href = 'relatorio_impacto_ambiental3.html';
        }
    </script>

    <main id="form-relatorio-impacto">

        <div id="ria_title">
            Relatório de Impacto Ambiental</div>

        <div class="form-container">
            <form id="relatorioForm" action="relatorio_impacto_ambiental2.html" method="post">
                <div class="form-row">
                    <!-- Primeira Coluna -->
                    <div class="ria_column">
                        <label for="natureza" style="font-weight: bold" class="ria_label">Natureza</label>
                        <select id="natureza" name="natureza" required>
                            <optgroup label="Natureza">
                            <option value="" disabled selected>Selecione</option>
                            <option value="industria_petroquimica">Petroquímica</option>
                            <option value="alienticia">Alimentícia</option>
                            <option value="construcao_civil">Construção Civil</option>
                            <option value="automobilistica">Automobilística</option>
                        </optgroup>
                        </select>
                        <small id="naturezaError" style="color: red;"></small>
                                               

                        <br>

                        <!-- Medidas Mitigatorias -->
                        <label style="font-weight: bold" for="medidas" class="ria_label">Medidas Mitigadoras</label>
                        <p>
                            <label>
                                <input type="checkbox" name="medidas-mitigatorias" value="plano de monitoramento"
                                    id="medidas-mitigatorias_0">
                                diagnóstico ambiental</label>
                            <br>
                            <label>
                                <input type="checkbox" name="medidas-mitigatorias" value="áreas de conservação"
                                    id="medidas-mitigatorias_1">
                                áreas de estudo</label>
                            <br>
                            <label>
                                <input type="checkbox" name="medidas-mitigatorias" value="projetos sociais"
                                    id="medidas-mitigatorias_2">
                                unidades de conservação</label>
                            <br>
                            <label>
                                <input type="checkbox" name="medidas-mitigatorias" value="projetos sociais"
                                    id="medidas-mitigatorias_3">
                                projetos sociais e ambientais</label>
                            <br>
                        </p>
                        <small id="medidasError" name="medidasError" style="color: red;"></small>
                        <br>
                        <!-- // -->

                        <!-- Tipos de Resíduos -->
                        <label for="tipos_residuos" style="font-weight: bold" class="ria_label">Tipos de resíduos</label>
                        <select id="tipos_residuos" name="tipos_residuos" required>
                            <optgroup label="Tipos de resíduos">
                            <option value="" disabled selected>Selecione</option>
                            <option value="oleos_graxas">Óleos e Graxas</option>
                            <option value="residuos_inflamaveis">Resíduos Inflamáveis</option>
                            <option value="residuos_organicos">Resíduos Orgânicos</option>
                            <option value="embalagens_plasticas">Embalagens Plásticas</option>
                            <option value="entulho_residuos">Entulho e Resíduos de Construção</option>
                            <option value="pneus_descartados">Pneus Descartados</option>
                            </optgroup>
                        </select>
                        <small id="tipos_residuosError" name="tipos_residuosError" style="color: red;"></small>
                        <!-- // -->
                        
                        <br>

                        <!-- Quantidade em quilos -->
                        <label style="font-weight: bold" for="medidas">Quantidade em quilos</label>
                        <input type="number" id="quantidade_quilos" name="quantidade_quilos" placeholder="KG" min="0" step="1"
                            pattern="[0-9]*">

                        <small id="quantidade_quilosError" style="color: red;"></small>

                    </div>

                    

                    <!-- Segunda Coluna -->
                    <br>
                    <div class="ria_column">

                        <!-- Incluir no relatório -->
                        <label style="font-weight: bold" for="incluir no relatório" class="ria_label">Incluir no
                            Relatório</label>

                            <label>
                            <input type="checkbox" name="incluir_no_relatorio" value="plano de monitoramento"
                                id="incluir_no_relatorio_0">
                            mapa de da área de estudo</label>
                            <label>
                            <input type="checkbox" name="incluir_no_relatorio" value="áreas de conservação"
                                id="incluir_no_relatorio_1">
                            projeção de impacto potencial
                            <br>
                            <label>
                                <input type="checkbox" name="incluir_no_relatorio" value="projetos sociais"
                                    id="incluir_no_relatorio_2">
                                riscos ambientais associados à atividade</label>
                            <br>
                            <label>
                                <input type="checkbox" name="incluir_no_relatorio" value="projetos sociais"
                                    id="incluir_no_relatorio_3">
                                equipe técnica</label>
                            <br>
                            <small id="incluir_no_relatorioError" style="color: red;"></small>


                            <!-- Outros Detalhes -->

                            <br>
                            <label style="font-weight: bold" for="detalhes" class="ria_label">Outros Detalhes</label>
                            <br>
                            <textarea id="detalhes" name="detalhes" placeholder="Insira outros detalhes aqui..."
                                style="width: 100%;"></textarea>
                                <small id="detalhesError" style="color: red;"></small>


                            <br>

                            <!-- Data de Inicio dos dados -->
                            <label style="font-weight: bold" for="data" class="ria_data">Data de Início dos dados</label>
                            <input type="date">

                            <br>

                            <!-- Relatórios antigos -->
                            <label style="font-weight: bold">Relatórios Antigos</label>

                            <label>Sempre que houver modificações no projeto, mudanças nas condições ambientais,
                                renovação de licenciamento ambiental ou acidentes ambientais gere um novo
                                relatório.</label>
                    </div>

                </div>
                <div class="button-container">
                    <button id="button2" onclick="goto_ria3()" type="button">Relatórios Antigos</button>
                    <!-- <button id="button1" onclick="goto_ria2()" type="submit">Gerar Relatório</button> -->
                    <button id="button1" type="submit">Gerar Relatório</button>
                </div>
            </form>
        </div>
        <br><br>
        <!-- fim Adicione aqui o conteúdo principal da página -->
    </main>
    <!-- Rodapé -->
    <footer>
        <div class="footer">
            <div class="container">
                <span>© 2024 GreenCycle™. Todos os direitos reservados.</span>
                <ul class="footer-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="credito_de_carbono1.html">Créditos de Carbono</a></li>
                    <li><a href="relatorio_impacto_ambiental1.html">Relatórios de Impacto Ambiental</a></li>
                    <li><a href="ultima_regulamentacao_pertinente.html">Regulamentação</a></li>
                    <li><a href="entenda_pode_ou_nao_ser_reciclado.html">Educacional</a></li>
                    <li><a href="sobre_nos.html">Sobre Nós</a></li> 
                    <li><a>Política de Privacidade</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>

        //Script de validação do formulário:
        document.getElementById("relatorioForm").addEventListener("submit", function (event) {
          let isValid = true;
      
        // Validação da natureza
        const natureza = document.getElementById("natureza").value;
          if (natureza.length < 3 || natureza.length > 50) {
            document.getElementById("naturezaError").textContent =
              "Por favor escolha o ramo de atividade";
            isValid = false;
          } else {
            document.getElementById("naturezaError").textContent = "";
          }

        // Validação do campo detalhes
        const detalhes = document.getElementById("detalhes").value;
          if (detalhes.length < 1) {
            document.getElementById("detalhesError").textContent =
              "Por favor adicione detalhes ao relatório";
            isValid = false;
          } else {
            document.getElementById("detalhesError").textContent = "";
        }
        
        // Validação do campo medidas mitigadoras
        const checkboxes = document.querySelectorAll('input[name="medidas-mitigatorias"]');
            const errorMessage = document.getElementById("medidasError");

            // Verifica se pelo menos uma está marcada
            const isChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);

            if (!isChecked) {
                // Mostra mensagem de erro e impede o envio do formulário
                document.getElementById("medidasError").textContent = "Digite as medidas mitigadoras";
                isValid = false;
                event.preventDefault();
            } else {
                document.getElementById("medidasError").textContent = "";
            }

        // Validação do tipos de residuos
        const tipos_residuos = document.getElementById("tipos_residuos").value;
          if (tipos_residuos.length < 3 || tipos_residuos.length > 100) {
            document.getElementById("tipos_residuosError").textContent =
              "Por favor escolha os tipos de resíduos";
            isValid = false;
          } else {
            document.getElementById("tipos_residuosError").textContent = "";
          }

          //------------
          const quilosInput = document.getElementById("quantidade_quilos");
            const errorMessage3 = document.getElementById("quantidade_quilosError");

            // Resetando a mensagem de erro
            errorMessage3.textContent = "";

            if (quilosInput.value === "" || quilosInput.value === "KG") {
                document.getElementById("quantidade_quilosError").textContent = "Por favor, digite a quantidade em quilos";
                isValid = false;
                event.preventDefault(); // Impede o envio do formulário

            } else if (!/^\d+$/.test(quilosInput.value)) {

                document.getElementById("quantidade_quilosError").textContent = "Por favor, insira apenas números válidos.";
                event.preventDefault(); // Impede o envio do formulário
            }
          //------------

          // Validação do campo "incluir no relatório"
        const checkboxes2 = document.querySelectorAll('input[name="incluir_no_relatorio"]');
            const errorMessage2 = document.getElementById("incluir_no_relatorioError");

            // Verifica se pelo menos uma está marcada
            const isChecked2 = Array.from(checkboxes2).some(checkbox => checkbox.checked);

            if (!isChecked2) {
                // Mostra mensagem de erro e impede o envio do formulário
                document.getElementById("incluir_no_relatorioError").textContent = "Escolha os itens que você gostaria de incluir no relatório";
                isValid = false;
                event.preventDefault();
            } else {
                document.getElementById("incluir_no_relatorioError").textContent = "";
            }

      
        // Impede o envio se não estiver válido
        if (!isValid) {
        event.preventDefault();
        }
        });
      </script>

</body>

</html>
